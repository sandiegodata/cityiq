
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>cityiq package &#8212; cityiq 0.0.4 documentation</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="cityiq.cli package" href="cityiq.cli.html" />
    <link rel="prev" title="cityiq" href="modules.html" />

  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />


  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>


    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">

  <div class="section" id="cityiq-package">
<h1>cityiq package<a class="headerlink" href="#cityiq-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="cityiq.cli.html">cityiq.cli package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="cityiq.cli.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="cityiq.cli.html#module-cityiq.cli.assets">cityiq.cli.assets module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cityiq.cli.html#module-cityiq.cli.config">cityiq.cli.config module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cityiq.cli.html#module-cityiq.cli.events">cityiq.cli.events module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cityiq.cli.html#module-cityiq.cli.locations">cityiq.cli.locations module</a></li>
<li class="toctree-l2"><a class="reference internal" href="cityiq.cli.html#module-cityiq.cli">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-cityiq.api">
<span id="cityiq-api-module"></span><h2>cityiq.api module<a class="headerlink" href="#module-cityiq.api" title="Permalink to this headline">¶</a></h2>
<p>API objects are the primary way to get access to assets and events. <a class="reference internal" href="#cityiq.api.CityIq" title="cityiq.api.CityIq"><code class="xref py py-class docutils literal notranslate"><span class="pre">CityIq</span></code></a> is the top level access
object. The API offers access to Locations, Events and Events.</p>
<p>Typically, you will construct <a class="reference internal" href="#cityiq.api.CityIq" title="cityiq.api.CityIq"><code class="xref py py-class docutils literal notranslate"><span class="pre">CityIq</span></code></a> from a <code class="xref py py-class docutils literal notranslate"><span class="pre">Config</span></code>. If a configuration is not specific,
the system will look for the file in default locations. You can also override individual configuration parameters
with keyword arguments to the constructor.</p>
<div class="section" id="metadata-access">
<h3>Metadata Access<a class="headerlink" href="#metadata-access" title="Permalink to this headline">¶</a></h3>
<p>Metadata, for both locations and assets, can be fetched with property accessors. The bounding box for the queries can
be set in the configuration, or on the  <a class="reference internal" href="#cityiq.api.CityIq" title="cityiq.api.CityIq"><code class="xref py py-class docutils literal notranslate"><span class="pre">CityIq</span></code></a> constructor.</p>
<p>The asset metadata properties are:</p>
<ul class="simple">
<li><a class="reference internal" href="#cityiq.api.CityIq.assets" title="cityiq.api.CityIq.assets"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CityIq.assets</span></code></a> : All assets</li>
<li><a class="reference internal" href="#cityiq.api.CityIq.nodes" title="cityiq.api.CityIq.nodes"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CityIq.nodes</span></code></a> : Nodes, the parents for other assets on a pole</li>
<li><a class="reference internal" href="#cityiq.api.CityIq.cameras" title="cityiq.api.CityIq.cameras"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CityIq.cameras</span></code></a> : All assets</li>
<li><a class="reference internal" href="#cityiq.api.CityIq.em_sensors" title="cityiq.api.CityIq.em_sensors"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CityIq.em_sensors</span></code></a> : ?</li>
<li><a class="reference internal" href="#cityiq.api.CityIq.env_sensors" title="cityiq.api.CityIq.env_sensors"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CityIq.env_sensors</span></code></a> : Environmental sensors</li>
</ul>
<p>The location metadata properties are:</p>
<ul class="simple">
<li><a class="reference internal" href="#cityiq.api.CityIq.locations" title="cityiq.api.CityIq.locations"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CityIq.locations</span></code></a> : All locations</li>
<li><a class="reference internal" href="#cityiq.api.CityIq.walkways" title="cityiq.api.CityIq.walkways"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CityIq.walkways</span></code></a> :</li>
<li><a class="reference internal" href="#cityiq.api.CityIq.parking_zones" title="cityiq.api.CityIq.parking_zones"><code class="xref py py-attr docutils literal notranslate"><span class="pre">CityIq.parking_zones</span></code></a> :</li>
<li><code class="xref py py-attr docutils literal notranslate"><span class="pre">CityIq.traffic_lane</span></code> :</li>
</ul>
<p>Events can be fetched with <a class="reference internal" href="#cityiq.api.CityIq.events" title="cityiq.api.CityIq.events"><code class="xref py py-func docutils literal notranslate"><span class="pre">cityiq.api.CityIq.events()</span></code></a></p>
<p>Each of these acessor properties or functions returns a generator that generates objects of a specific type,
one base class for each of Locations, Assets or Events:</p>
<ul class="simple">
<li><a class="reference internal" href="#cityiq.api.Asset" title="cityiq.api.Asset"><code class="xref py py-class docutils literal notranslate"><span class="pre">Asset</span></code></a></li>
<li><a class="reference internal" href="#cityiq.api.Location" title="cityiq.api.Location"><code class="xref py py-class docutils literal notranslate"><span class="pre">Location</span></code></a></li>
<li><a class="reference internal" href="#cityiq.api.Event" title="cityiq.api.Event"><code class="xref py py-class docutils literal notranslate"><span class="pre">Event</span></code></a></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">bbox</span> <span class="o">=</span> <span class="s1">&#39;32.718987:-117.174244,32.707356:-117.154850&#39;</span>

<span class="n">c</span> <span class="o">=</span> <span class="n">CityIq</span><span class="p">(</span><span class="n">bbox</span><span class="o">=</span><span class="n">bbox</span><span class="p">)</span> <span class="c1"># Use default config, override bbox</span>

<span class="c1"># Get Locations</span>
<span class="n">locations</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">locations</span><span class="p">)</span>

<span class="c1"># Get the assets at this location:</span>
<span class="k">for</span> <span class="n">location</span> <span class="ow">in</span> <span class="n">locations</span><span class="p">:</span>
    <span class="n">do_something_with</span><span class="p">(</span><span class="n">location</span><span class="o">.</span><span class="n">assets</span>
</pre></div>
</div>
<dl class="class">
<dt id="cityiq.api.Asset">
<em class="property">class </em><code class="descclassname">cityiq.api.</code><code class="descname">Asset</code><span class="sig-paren">(</span><em>client</em>, <em>data</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cityiq/api.html#Asset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cityiq.api.Asset" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#cityiq.api.CityIqObject" title="cityiq.api.CityIqObject"><code class="xref py py-class docutils literal notranslate"><span class="pre">cityiq.api.CityIqObject</span></code></a></p>
<dl class="attribute">
<dt id="cityiq.api.Asset.children">
<code class="descname">children</code><a class="headerlink" href="#cityiq.api.Asset.children" title="Permalink to this definition">¶</a></dt>
<dd><p>Sub assets of this asset</p>
</dd></dl>

<dl class="attribute">
<dt id="cityiq.api.Asset.children_url_suffix">
<code class="descname">children_url_suffix</code><em class="property"> = '/v2/metadata/assets/{}/subAssets'</em><a class="headerlink" href="#cityiq.api.Asset.children_url_suffix" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cityiq.api.Asset.dclass_map">
<code class="descname">dclass_map</code><em class="property"> = {'CAMERA': 'CameraAsset', 'EM_SENSOR': 'EmSensorAsset', 'MIC': 'MicSensorAsset', 'NODE': 'NodeAsset', 'XENV_SENSOR': 'EnvSensorAsset'}</em><a class="headerlink" href="#cityiq.api.Asset.dclass_map" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cityiq.api.Asset.detail">
<code class="descname">detail</code><a class="headerlink" href="#cityiq.api.Asset.detail" title="Permalink to this definition">¶</a></dt>
<dd><p>Asset details</p>
</dd></dl>

<dl class="attribute">
<dt id="cityiq.api.Asset.detail_url_suffix">
<code class="descname">detail_url_suffix</code><em class="property"> = '/v2/metadata/assets/{}'</em><a class="headerlink" href="#cityiq.api.Asset.detail_url_suffix" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cityiq.api.Asset.lat">
<code class="descname">lat</code><a class="headerlink" href="#cityiq.api.Asset.lat" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cityiq.api.Asset.locations">
<code class="descname">locations</code><a class="headerlink" href="#cityiq.api.Asset.locations" title="Permalink to this definition">¶</a></dt>
<dd><p>Assets at this location</p>
</dd></dl>

<dl class="attribute">
<dt id="cityiq.api.Asset.locations_url_suffix">
<code class="descname">locations_url_suffix</code><em class="property"> = '/v2/metadata/assets/{}/locations'</em><a class="headerlink" href="#cityiq.api.Asset.locations_url_suffix" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cityiq.api.Asset.lon">
<code class="descname">lon</code><a class="headerlink" href="#cityiq.api.Asset.lon" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cityiq.api.Asset.parent">
<code class="descname">parent</code><a class="headerlink" href="#cityiq.api.Asset.parent" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cityiq.api.Asset.row">
<code class="descname">row</code><a class="headerlink" href="#cityiq.api.Asset.row" title="Permalink to this definition">¶</a></dt>
<dd><p>Return most important fields in a row format</p>
</dd></dl>

<dl class="attribute">
<dt id="cityiq.api.Asset.row_header">
<code class="descname">row_header</code><em class="property"> = ['assetUid', 'assetType', 'parentAssetUid', 'mediaType', 'events', 'geometry']</em><a class="headerlink" href="#cityiq.api.Asset.row_header" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cityiq.api.Asset.types">
<code class="descname">types</code><em class="property"> = ['NODE', 'EM_SENSOR', 'MIC', 'ENV_SENSOR', 'CAMERA']</em><a class="headerlink" href="#cityiq.api.Asset.types" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="cityiq.api.CameraAsset">
<em class="property">class </em><code class="descclassname">cityiq.api.</code><code class="descname">CameraAsset</code><span class="sig-paren">(</span><em>client</em>, <em>data</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cityiq/api.html#CameraAsset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cityiq.api.CameraAsset" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#cityiq.api.Asset" title="cityiq.api.Asset"><code class="xref py py-class docutils literal notranslate"><span class="pre">cityiq.api.Asset</span></code></a></p>
</dd></dl>

<dl class="class">
<dt id="cityiq.api.CityIq">
<em class="property">class </em><code class="descclassname">cityiq.api.</code><code class="descname">CityIq</code><span class="sig-paren">(</span><em>config=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cityiq/api.html#CityIq"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cityiq.api.CityIq" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.6/library/functions.html#object" title="(in Python v3.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="attribute">
<dt id="cityiq.api.CityIq.asset_dataframe">
<code class="descname">asset_dataframe</code><a class="headerlink" href="#cityiq.api.CityIq.asset_dataframe" title="Permalink to this definition">¶</a></dt>
<dd><p>Return assets in row form in a pandas Dataframe</p>
</dd></dl>

<dl class="attribute">
<dt id="cityiq.api.CityIq.assets">
<code class="descname">assets</code><a class="headerlink" href="#cityiq.api.CityIq.assets" title="Permalink to this definition">¶</a></dt>
<dd><p>Return all system assets</p>
</dd></dl>

<dl class="attribute">
<dt id="cityiq.api.CityIq.assets_search_suffix">
<code class="descname">assets_search_suffix</code><em class="property"> = '/v2/metadata/assets/search'</em><a class="headerlink" href="#cityiq.api.CityIq.assets_search_suffix" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cityiq.api.CityIq.cameras">
<code class="descname">cameras</code><a class="headerlink" href="#cityiq.api.CityIq.cameras" title="Permalink to this definition">¶</a></dt>
<dd><p>Return camera assets</p>
</dd></dl>

<dl class="attribute">
<dt id="cityiq.api.CityIq.em_sensors">
<code class="descname">em_sensors</code><a class="headerlink" href="#cityiq.api.CityIq.em_sensors" title="Permalink to this definition">¶</a></dt>
<dd><p>Return some other kind of sensor. Electro-magnetic?</p>
</dd></dl>

<dl class="attribute">
<dt id="cityiq.api.CityIq.env_sensors">
<code class="descname">env_sensors</code><a class="headerlink" href="#cityiq.api.CityIq.env_sensors" title="Permalink to this definition">¶</a></dt>
<dd><p>Return environmental sensors</p>
</dd></dl>

<dl class="method">
<dt id="cityiq.api.CityIq.events">
<code class="descname">events</code><span class="sig-paren">(</span><em>start_time=None</em>, <em>end_time=None</em>, <em>age=None</em>, <em>span=None</em>, <em>bbox=None</em>, <em>event_type=' '</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cityiq/api.html#CityIq.events"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cityiq.api.CityIq.events" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>start_time</strong> – </li>
<li><strong>end_time</strong> – </li>
<li><strong>age</strong> – if start_time is not specified, the start time in terms of seconds before the end time</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="cityiq.api.CityIq.events_async">
<code class="descname">events_async</code><span class="sig-paren">(</span><em>events=['PKIN', 'PKOUT']</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cityiq/api.html#CityIq.events_async"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cityiq.api.CityIq.events_async" title="Permalink to this definition">¶</a></dt>
<dd><p>Use the websocket to get events. The websocket is run in a thread, and this
function is a generator that returns results.</p>
</dd></dl>

<dl class="attribute">
<dt id="cityiq.api.CityIq.events_url">
<code class="descname">events_url</code><em class="property"> = '/v2/locations/events?bbox={bbox}&amp;locationType={location_type}&amp;eventType={event_type}&amp;startTime={start_time}&amp;endTime={end_time}&amp;pageSize=100'</em><a class="headerlink" href="#cityiq.api.CityIq.events_url" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cityiq.api.CityIq.get_assets">
<code class="descname">get_assets</code><span class="sig-paren">(</span><em>device_type=None</em>, <em>zone=None</em>, <em>bbox=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cityiq/api.html#CityIq.get_assets"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cityiq.api.CityIq.get_assets" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cityiq.api.CityIq.get_locations">
<code class="descname">get_locations</code><span class="sig-paren">(</span><em>location_type=None</em>, <em>zone=None</em>, <em>bbox=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cityiq/api.html#CityIq.get_locations"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cityiq.api.CityIq.get_locations" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cityiq.api.CityIq.get_pages">
<code class="descname">get_pages</code><span class="sig-paren">(</span><em>url</em>, <em>query=None</em>, <em>zone=None</em>, <em>bbox=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cityiq/api.html#CityIq.get_pages"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cityiq.api.CityIq.get_pages" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cityiq.api.CityIq.http_get">
<code class="descname">http_get</code><span class="sig-paren">(</span><em>url</em>, <em>zone=None</em>, <em>params=None</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cityiq/api.html#CityIq.http_get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cityiq.api.CityIq.http_get" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cityiq.api.CityIq.locations">
<code class="descname">locations</code><a class="headerlink" href="#cityiq.api.CityIq.locations" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cityiq.api.CityIq.locations_dataframe">
<code class="descname">locations_dataframe</code><a class="headerlink" href="#cityiq.api.CityIq.locations_dataframe" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cityiq.api.CityIq.locations_search_suffix">
<code class="descname">locations_search_suffix</code><em class="property"> = '/v2/metadata/locations/search'</em><a class="headerlink" href="#cityiq.api.CityIq.locations_search_suffix" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cityiq.api.CityIq.mics">
<code class="descname">mics</code><a class="headerlink" href="#cityiq.api.CityIq.mics" title="Permalink to this definition">¶</a></dt>
<dd><p>Return microphone assets</p>
</dd></dl>

<dl class="attribute">
<dt id="cityiq.api.CityIq.nodes">
<code class="descname">nodes</code><a class="headerlink" href="#cityiq.api.CityIq.nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Return all nodes</p>
</dd></dl>

<dl class="attribute">
<dt id="cityiq.api.CityIq.parking_zones">
<code class="descname">parking_zones</code><a class="headerlink" href="#cityiq.api.CityIq.parking_zones" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cityiq.api.CityIq.token">
<code class="descname">token</code><a class="headerlink" href="#cityiq.api.CityIq.token" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cityiq.api.CityIq.total_bounds">
<code class="descname">total_bounds</code><a class="headerlink" href="#cityiq.api.CityIq.total_bounds" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a bounding box for the system from all of the assets. This will be affected by the
bbox set in the config, so it should usually be smaller than the one in the config</p>
</dd></dl>

<dl class="attribute">
<dt id="cityiq.api.CityIq.traffic_lanes">
<code class="descname">traffic_lanes</code><a class="headerlink" href="#cityiq.api.CityIq.traffic_lanes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cityiq.api.CityIq.walkways">
<code class="descname">walkways</code><a class="headerlink" href="#cityiq.api.CityIq.walkways" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="cityiq.api.CityIqObject">
<em class="property">class </em><code class="descclassname">cityiq.api.</code><code class="descname">CityIqObject</code><span class="sig-paren">(</span><em>client</em>, <em>data</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cityiq/api.html#CityIqObject"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cityiq.api.CityIqObject" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.6/library/functions.html#object" title="(in Python v3.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="attribute">
<dt id="cityiq.api.CityIqObject.geometry">
<code class="descname">geometry</code><a class="headerlink" href="#cityiq.api.CityIqObject.geometry" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a Shapely polygon for the coordinates</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="cityiq.api.EmSensorAsset">
<em class="property">class </em><code class="descclassname">cityiq.api.</code><code class="descname">EmSensorAsset</code><span class="sig-paren">(</span><em>client</em>, <em>data</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cityiq/api.html#EmSensorAsset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cityiq.api.EmSensorAsset" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#cityiq.api.Asset" title="cityiq.api.Asset"><code class="xref py py-class docutils literal notranslate"><span class="pre">cityiq.api.Asset</span></code></a></p>
</dd></dl>

<dl class="class">
<dt id="cityiq.api.EnvSensorAsset">
<em class="property">class </em><code class="descclassname">cityiq.api.</code><code class="descname">EnvSensorAsset</code><span class="sig-paren">(</span><em>client</em>, <em>data</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cityiq/api.html#EnvSensorAsset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cityiq.api.EnvSensorAsset" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#cityiq.api.Asset" title="cityiq.api.Asset"><code class="xref py py-class docutils literal notranslate"><span class="pre">cityiq.api.Asset</span></code></a></p>
</dd></dl>

<dl class="class">
<dt id="cityiq.api.Event">
<em class="property">class </em><code class="descclassname">cityiq.api.</code><code class="descname">Event</code><span class="sig-paren">(</span><em>client</em>, <em>data</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cityiq/api.html#Event"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cityiq.api.Event" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#cityiq.api.CityIqObject" title="cityiq.api.CityIqObject"><code class="xref py py-class docutils literal notranslate"><span class="pre">cityiq.api.CityIqObject</span></code></a></p>
<dl class="attribute">
<dt id="cityiq.api.Event.types">
<code class="descname">types</code><em class="property"> = ['PKIN', 'PKOUT', 'PEDEVT', 'TFEVT', 'TEMPERATURE', 'PRESSURE', 'ORIENTATION', 'METROLOGY', 'HUMIDITY', 'ENERGY_TIMESERIES', 'ENERGY_ALERT']</em><a class="headerlink" href="#cityiq.api.Event.types" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="cityiq.api.EventWorker">
<em class="property">class </em><code class="descclassname">cityiq.api.</code><code class="descname">EventWorker</code><span class="sig-paren">(</span><em>client</em>, <em>events</em>, <em>queue</em><span class="sig-paren">)</span> &#x2192; None<a class="reference internal" href="../_modules/cityiq/api.html#EventWorker"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cityiq.api.EventWorker" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.6/library/threading.html#threading.Thread" title="(in Python v3.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">threading.Thread</span></code></a></p>
<p>Thread worker for websociet events</p>
<dl class="method">
<dt id="cityiq.api.EventWorker.run">
<code class="descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span> &#x2192; None<a class="reference internal" href="../_modules/cityiq/api.html#EventWorker.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cityiq.api.EventWorker.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Method representing the thread’s activity.</p>
<p>You may override this method in a subclass. The standard run() method
invokes the callable object passed to the object’s constructor as the
target argument, if any, with sequential and keyword arguments taken
from the args and kwargs arguments, respectively.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="cityiq.api.Location">
<em class="property">class </em><code class="descclassname">cityiq.api.</code><code class="descname">Location</code><span class="sig-paren">(</span><em>client</em>, <em>data</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cityiq/api.html#Location"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cityiq.api.Location" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#cityiq.api.CityIqObject" title="cityiq.api.CityIqObject"><code class="xref py py-class docutils literal notranslate"><span class="pre">cityiq.api.CityIqObject</span></code></a></p>
<dl class="attribute">
<dt id="cityiq.api.Location.assets">
<code class="descname">assets</code><a class="headerlink" href="#cityiq.api.Location.assets" title="Permalink to this definition">¶</a></dt>
<dd><p>Assets at this location</p>
</dd></dl>

<dl class="attribute">
<dt id="cityiq.api.Location.assets_url_suffix">
<code class="descname">assets_url_suffix</code><em class="property"> = '/v2/metadata/locations/{}/assets'</em><a class="headerlink" href="#cityiq.api.Location.assets_url_suffix" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cityiq.api.Location.dclass_map">
<code class="descname">dclass_map</code><em class="property"> = {'PARKING_ZONE': 'ParkingZoneLocation', 'TRAFFIC_LANE': 'TrafficLaneLocation', 'WALKWAY': 'WalkwayLocation'}</em><a class="headerlink" href="#cityiq.api.Location.dclass_map" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cityiq.api.Location.detail">
<code class="descname">detail</code><a class="headerlink" href="#cityiq.api.Location.detail" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cityiq.api.Location.detail_url_suffix">
<code class="descname">detail_url_suffix</code><em class="property"> = '/v2/metadata/locations/{}'</em><a class="headerlink" href="#cityiq.api.Location.detail_url_suffix" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cityiq.api.Location.events">
<code class="descname">events</code><span class="sig-paren">(</span><em>eventType</em>, <em>start_time</em>, <em>end_time=None</em>, <em>span=None</em>, <em>ago=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cityiq/api.html#Location.events"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cityiq.api.Location.events" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cityiq.api.Location.events_url_suffix">
<code class="descname">events_url_suffix</code><em class="property"> = '/v2/locations/{locationUid}/events?eventType={eventType}&amp;startTime={startts}&amp;endTime={endts}'</em><a class="headerlink" href="#cityiq.api.Location.events_url_suffix" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cityiq.api.Location.row">
<code class="descname">row</code><a class="headerlink" href="#cityiq.api.Location.row" title="Permalink to this definition">¶</a></dt>
<dd><p>Return most important fields in a row format</p>
</dd></dl>

<dl class="attribute">
<dt id="cityiq.api.Location.row_header">
<code class="descname">row_header</code><em class="property"> = ['locationUid', 'locationType', 'parentLocationUid', 'geometry']</em><a class="headerlink" href="#cityiq.api.Location.row_header" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="cityiq.api.Location.types">
<code class="descname">types</code><em class="property"> = ['WALKWAY', 'TRAFFIC_LANE', 'PARKING_ZONE']</em><a class="headerlink" href="#cityiq.api.Location.types" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="cityiq.api.MicSensorAsset">
<em class="property">class </em><code class="descclassname">cityiq.api.</code><code class="descname">MicSensorAsset</code><span class="sig-paren">(</span><em>client</em>, <em>data</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cityiq/api.html#MicSensorAsset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cityiq.api.MicSensorAsset" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#cityiq.api.Asset" title="cityiq.api.Asset"><code class="xref py py-class docutils literal notranslate"><span class="pre">cityiq.api.Asset</span></code></a></p>
</dd></dl>

<dl class="class">
<dt id="cityiq.api.NodeAsset">
<em class="property">class </em><code class="descclassname">cityiq.api.</code><code class="descname">NodeAsset</code><span class="sig-paren">(</span><em>client</em>, <em>data</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cityiq/api.html#NodeAsset"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cityiq.api.NodeAsset" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#cityiq.api.Asset" title="cityiq.api.Asset"><code class="xref py py-class docutils literal notranslate"><span class="pre">cityiq.api.Asset</span></code></a></p>
</dd></dl>

<dl class="class">
<dt id="cityiq.api.ParkingZoneLocation">
<em class="property">class </em><code class="descclassname">cityiq.api.</code><code class="descname">ParkingZoneLocation</code><span class="sig-paren">(</span><em>client</em>, <em>data</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cityiq/api.html#ParkingZoneLocation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cityiq.api.ParkingZoneLocation" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#cityiq.api.Location" title="cityiq.api.Location"><code class="xref py py-class docutils literal notranslate"><span class="pre">cityiq.api.Location</span></code></a></p>
</dd></dl>

<dl class="class">
<dt id="cityiq.api.TrafficLaneLocation">
<em class="property">class </em><code class="descclassname">cityiq.api.</code><code class="descname">TrafficLaneLocation</code><span class="sig-paren">(</span><em>client</em>, <em>data</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cityiq/api.html#TrafficLaneLocation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cityiq.api.TrafficLaneLocation" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#cityiq.api.Location" title="cityiq.api.Location"><code class="xref py py-class docutils literal notranslate"><span class="pre">cityiq.api.Location</span></code></a></p>
</dd></dl>

<dl class="class">
<dt id="cityiq.api.WalkwayLocation">
<em class="property">class </em><code class="descclassname">cityiq.api.</code><code class="descname">WalkwayLocation</code><span class="sig-paren">(</span><em>client</em>, <em>data</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cityiq/api.html#WalkwayLocation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cityiq.api.WalkwayLocation" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#cityiq.api.Location" title="cityiq.api.Location"><code class="xref py py-class docutils literal notranslate"><span class="pre">cityiq.api.Location</span></code></a></p>
</dd></dl>

<dl class="function">
<dt id="cityiq.api.current_time">
<code class="descclassname">cityiq.api.</code><code class="descname">current_time</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cityiq/api.html#current_time"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cityiq.api.current_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the epoch time in miliseconds</p>
</dd></dl>

<dl class="function">
<dt id="cityiq.api.se_time">
<code class="descclassname">cityiq.api.</code><code class="descname">se_time</code><span class="sig-paren">(</span><em>start_time=None</em>, <em>end_time=None</em>, <em>ago=None</em>, <em>span=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cityiq/api.html#se_time"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cityiq.api.se_time" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="cityiq.api.time_ago">
<code class="descclassname">cityiq.api.</code><code class="descname">time_ago</code><span class="sig-paren">(</span><em>days=None</em>, <em>hours=None</em>, <em>minutes=None</em>, <em>seconds=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cityiq/api.html#time_ago"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cityiq.api.time_ago" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
</div>
<div class="section" id="module-cityiq.clean_events">
<span id="cityiq-clean-events-module"></span><h2>cityiq.clean_events module<a class="headerlink" href="#module-cityiq.clean_events" title="Permalink to this headline">¶</a></h2>
<p>Clean events, removing duplicates</p>
<dl class="function">
<dt id="cityiq.clean_events.augment_df">
<code class="descclassname">cityiq.clean_events.</code><code class="descname">augment_df</code><span class="sig-paren">(</span><em>df</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cityiq/clean_events.html#augment_df"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cityiq.clean_events.augment_df" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="cityiq.clean_events.clean_events">
<code class="descclassname">cityiq.clean_events.</code><code class="descname">clean_events</code><span class="sig-paren">(</span><em>s</em>, <em>use_tqdm=True</em>, <em>locations=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cityiq/clean_events.html#clean_events"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cityiq.clean_events.clean_events" title="Permalink to this definition">¶</a></dt>
<dd><p>Given an event scraper that has has</p>
</dd></dl>

<dl class="function">
<dt id="cityiq.clean_events.dedup_1s">
<code class="descclassname">cityiq.clean_events.</code><code class="descname">dedup_1s</code><span class="sig-paren">(</span><em>df</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cityiq/clean_events.html#dedup_1s"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cityiq.clean_events.dedup_1s" title="Permalink to this definition">¶</a></dt>
<dd><p>Deduplicate by dropping events of sametype that occur in 1s window.</p>
</dd></dl>

<dl class="function">
<dt id="cityiq.clean_events.dedup_rolling">
<code class="descclassname">cityiq.clean_events.</code><code class="descname">dedup_rolling</code><span class="sig-paren">(</span><em>df</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cityiq/clean_events.html#dedup_rolling"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cityiq.clean_events.dedup_rolling" title="Permalink to this definition">¶</a></dt>
<dd><p>Entry point for rolling count debouncing</p>
</dd></dl>

<dl class="function">
<dt id="cityiq.clean_events.plot_loc_norming">
<code class="descclassname">cityiq.clean_events.</code><code class="descname">plot_loc_norming</code><span class="sig-paren">(</span><em>t</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cityiq/clean_events.html#plot_loc_norming"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cityiq.clean_events.plot_loc_norming" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="cityiq.clean_events.re_norm_location">
<code class="descclassname">cityiq.clean_events.</code><code class="descname">re_norm_location</code><span class="sig-paren">(</span><em>df</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cityiq/clean_events.html#re_norm_location"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cityiq.clean_events.re_norm_location" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-cityiq.config">
<span id="cityiq-config-module"></span><h2>cityiq.config module<a class="headerlink" href="#module-cityiq.config" title="Permalink to this headline">¶</a></h2>
<p>The CityIq module and programs require a configuration file that hold credentials and urls. You can generate a default
configuration with</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ciq_config</span>  <span class="o">-</span><span class="n">w</span>
</pre></div>
</div>
<p>The generated file is configured for the San Diego system. To you this system , you will just need to add your
client id and secret to the file.</p>
<p>The  <a class="reference internal" href="#cityiq.config.Config" title="cityiq.config.Config"><code class="xref py py-class docutils literal notranslate"><span class="pre">Config</span></code></a> object can be constructed can constructed on a path where the config file is location. If none
is specified it will look for this file in several places, in this order:</p>
<ul class="simple">
<li>The path specified in the constructor</li>
<li>The path specified by the <code class="docutils literal notranslate"><span class="pre">CITYIQ_CONFIG</span></code> env var</li>
<li><code class="docutils literal notranslate"><span class="pre">.city-iq.yaml</span></code> in the current dir</li>
<li><code class="docutils literal notranslate"><span class="pre">city-iq.yaml</span></code> in the current dir</li>
<li><code class="docutils literal notranslate"><span class="pre">.city-iq.yaml</span></code> in the user’s home dir</li>
</ul>
<p>Each of the configuration files can be overridden with a keywork in the <code class="docutils literal notranslate"><span class="pre">Config</span></code> object constructor, and each value
can be accessed as an attribute or an index:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Load from well-known file and override cache_dir</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">Config</span><span class="p">(</span><span class="n">cache_dir</span><span class="o">=</span><span class="s1">&#39;/tmp&#39;</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">cache_dir</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">c</span><span class="p">[</span><span class="s1">&#39;cache_dir&#39;</span><span class="p">])</span>
</pre></div>
</div>
<dl class="class">
<dt id="cityiq.config.Config">
<em class="property">class </em><code class="descclassname">cityiq.config.</code><code class="descname">Config</code><span class="sig-paren">(</span><em>path=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cityiq/config.html#Config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cityiq.config.Config" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.6/library/functions.html#object" title="(in Python v3.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="attribute">
<dt id="cityiq.config.Config.dict">
<code class="descname">dict</code><a class="headerlink" href="#cityiq.config.Config.dict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-cityiq.exceptions">
<span id="cityiq-exceptions-module"></span><h2>cityiq.exceptions module<a class="headerlink" href="#module-cityiq.exceptions" title="Permalink to this headline">¶</a></h2>
<dl class="exception">
<dt id="cityiq.exceptions.CityIqError">
<em class="property">exception </em><code class="descclassname">cityiq.exceptions.</code><code class="descname">CityIqError</code><a class="reference internal" href="../_modules/cityiq/exceptions.html#CityIqError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cityiq.exceptions.CityIqError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.6/library/exceptions.html#Exception" title="(in Python v3.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></a></p>
</dd></dl>

<dl class="exception">
<dt id="cityiq.exceptions.ConfigurationError">
<em class="property">exception </em><code class="descclassname">cityiq.exceptions.</code><code class="descname">ConfigurationError</code><a class="reference internal" href="../_modules/cityiq/exceptions.html#ConfigurationError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cityiq.exceptions.ConfigurationError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#cityiq.exceptions.CityIqError" title="cityiq.exceptions.CityIqError"><code class="xref py py-class docutils literal notranslate"><span class="pre">cityiq.exceptions.CityIqError</span></code></a></p>
</dd></dl>

</div>
<div class="section" id="module-cityiq.scrape">
<span id="cityiq-scrape-module"></span><h2>cityiq.scrape module<a class="headerlink" href="#module-cityiq.scrape" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="cityiq.scrape.EventScraper">
<em class="property">class </em><code class="descclassname">cityiq.scrape.</code><code class="descname">EventScraper</code><span class="sig-paren">(</span><em>config</em>, <em>start_time</em>, <em>event_types</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cityiq/scrape.html#EventScraper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cityiq.scrape.EventScraper" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.6/library/functions.html#object" title="(in Python v3.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="attribute">
<dt id="cityiq.scrape.EventScraper.event_locations_dir">
<code class="descname">event_locations_dir</code><em class="property"> = 'event-locations'</em><a class="headerlink" href="#cityiq.scrape.EventScraper.event_locations_dir" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cityiq.scrape.EventScraper.get_events">
<code class="descname">get_events</code><span class="sig-paren">(</span><em>start_time</em>, <em>span</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cityiq/scrape.html#EventScraper.get_events"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cityiq.scrape.EventScraper.get_events" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cityiq.scrape.EventScraper.get_type_events">
<code class="descname">get_type_events</code><span class="sig-paren">(</span><em>start_time</em>, <em>span</em>, <em>event_type</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cityiq/scrape.html#EventScraper.get_type_events"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cityiq.scrape.EventScraper.get_type_events" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the events of one type
:param start_time:
:param span:  time span in seconds
:param event_type:
:param tz_name:
:return:</p>
</dd></dl>

<dl class="method">
<dt id="cityiq.scrape.EventScraper.iterate_records">
<code class="descname">iterate_records</code><span class="sig-paren">(</span><em>records=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cityiq/scrape.html#EventScraper.iterate_records"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cityiq.scrape.EventScraper.iterate_records" title="Permalink to this definition">¶</a></dt>
<dd><p>For a set of file name records ( from yield_file_names), yield event objects</p>
</dd></dl>

<dl class="method">
<dt id="cityiq.scrape.EventScraper.iterate_splits">
<code class="descname">iterate_splits</code><span class="sig-paren">(</span><em>use_tqdm=False</em>, <em>locations=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cityiq/scrape.html#EventScraper.iterate_splits"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cityiq.scrape.EventScraper.iterate_splits" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate over the splits produced by split_locations</p>
</dd></dl>

<dl class="method">
<dt id="cityiq.scrape.EventScraper.scrape_events">
<code class="descname">scrape_events</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cityiq/scrape.html#EventScraper.scrape_events"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cityiq.scrape.EventScraper.scrape_events" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cityiq.scrape.EventScraper.split_locations">
<code class="descname">split_locations</code><span class="sig-paren">(</span><em>use_tqdm=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cityiq/scrape.html#EventScraper.split_locations"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cityiq.scrape.EventScraper.split_locations" title="Permalink to this definition">¶</a></dt>
<dd><p>Split the scraped event files into sperate files per month and location,
which are required for later stages of processing.</p>
</dd></dl>

<dl class="method">
<dt id="cityiq.scrape.EventScraper.try_get_events">
<code class="descname">try_get_events</code><span class="sig-paren">(</span><em>start_time</em>, <em>span</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cityiq/scrape.html#EventScraper.try_get_events"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cityiq.scrape.EventScraper.try_get_events" title="Permalink to this definition">¶</a></dt>
<dd><p>Run get_events and try to be resilient to some errors</p>
</dd></dl>

<dl class="method">
<dt id="cityiq.scrape.EventScraper.yield_file_names">
<code class="descname">yield_file_names</code><span class="sig-paren">(</span><em>start=None</em>, <em>end=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cityiq/scrape.html#EventScraper.yield_file_names"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cityiq.scrape.EventScraper.yield_file_names" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="cityiq.scrape.EventScraper.yield_months">
<code class="descname">yield_months</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cityiq/scrape.html#EventScraper.yield_months"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cityiq.scrape.EventScraper.yield_months" title="Permalink to this definition">¶</a></dt>
<dd><p>Yield the results of yield_file_names</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-cityiq.token">
<span id="cityiq-token-module"></span><h2>cityiq.token module<a class="headerlink" href="#module-cityiq.token" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="cityiq.token.get_cached_token">
<code class="descclassname">cityiq.token.</code><code class="descname">get_cached_token</code><span class="sig-paren">(</span><em>cache_path</em>, <em>uaa</em>, <em>client</em>, <em>secret</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cityiq/token.html#get_cached_token"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cityiq.token.get_cached_token" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a cached access token from the CityIQ service. Returns just the token. Use _get_token() to get the
full response</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>cache_path</strong> – Directory where cached token will be stored, if a directory or token name if a file</li>
<li><strong>uaa</strong> – Url to the user authentication service</li>
<li><strong>client</strong> – </li>
<li><strong>secret</strong> – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A token string</p>
</td>
</tr>
</tbody>
</table>
<p>If a directory is specified in cache_dir, the file name will be ‘cityiq-token-&lt;crc&gt;.json’, with the CRC32 of the
source url. The token will be expired after 8 hours.</p>
</dd></dl>

<dl class="function">
<dt id="cityiq.token.get_token">
<code class="descclassname">cityiq.token.</code><code class="descname">get_token</code><span class="sig-paren">(</span><em>uaa</em>, <em>client</em>, <em>secret</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/cityiq/token.html#get_token"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#cityiq.token.get_token" title="Permalink to this definition">¶</a></dt>
<dd><p>Get an access token from the CityIQ service. Returns just the token. Use _get_token() to get the full response</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>uaa</strong> – Url to the user authentication service</li>
<li><strong>client</strong> – </li>
<li><strong>secret</strong> – </li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-cityiq">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-cityiq" title="Permalink to this headline">¶</a></h2>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">cityiq package</a><ul>
<li><a class="reference internal" href="#subpackages">Subpackages</a></li>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-cityiq.api">cityiq.api module</a><ul>
<li><a class="reference internal" href="#metadata-access">Metadata Access</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-cityiq.clean_events">cityiq.clean_events module</a></li>
<li><a class="reference internal" href="#module-cityiq.config">cityiq.config module</a></li>
<li><a class="reference internal" href="#module-cityiq.exceptions">cityiq.exceptions module</a></li>
<li><a class="reference internal" href="#module-cityiq.scrape">cityiq.scrape module</a></li>
<li><a class="reference internal" href="#module-cityiq.token">cityiq.token module</a></li>
<li><a class="reference internal" href="#module-cityiq">Module contents</a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="modules.html">cityiq</a><ul>
      <li>Previous: <a href="modules.html" title="previous chapter">cityiq</a></li>
      <li>Next: <a href="cityiq.cli.html" title="next chapter">cityiq.cli package</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/api/cityiq.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2019, Eric Busboom.

      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.7.2</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>

      |
      <a href="../_sources/api/cityiq.rst.txt"
          rel="nofollow">Page source</a>
    </div>




  </body>
</html>
